---
import { format } from 'fecha';

export interface Frontmatter {
  title: string;
  description: string;
  author?: string;
  published?: string;
  updated?: string;
  status?: string;
  tags?: string[];
}

export interface Props {
  content: Frontmatter;
}

const {
  title,
  description,
  author,
  published,
  updated,
  status,
  tags = [],
} = Astro.props.content as Frontmatter;
---

<header>
  <h1>{title}</h1>

  <p>{description}</p>

  {author && <p>author: {author}</p>}

  {tags &&
    <div class="tags">
      {tags.slice(0, -1).map((tag) => 
        <span><a href={`/tags/${tag}`}>{tag}</a>, </span>
      )}
      <a href={`/tags/${tags.slice(-1)}`}>{tags.slice(-1)}</a>
    </div>
  }

  <div class="other">
    {published && <span>published: {format(published, "isoDate")}, </span>}
    {updated && <span>updated: {format(updated, "isoDate")}, </span>}
    {status && <span>status: {status}</span>}
  </div>
</header>

<style lang="scss">
  @use "../styles/theme";

  header {
    font-size: 0.90em;
    font-family: theme.$font-serif;
    font-style: italic;
  }

  p {
    margin: 0.5em 0;
  }

  h1 {
    margin: 0;
    margin-bottom: 16px;

    text-align: center;
    font-variant: small-caps;
    text-align: center;
    font-size: 2.75em;
    hyphens: auto;
  }

  div {
    margin: 0.5em 0;
  }

  .tags {
    a {
      margin-right: 0r.25em;
      color: inherit;
    }
  }
</style>
